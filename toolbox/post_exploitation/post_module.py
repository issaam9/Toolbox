def run_post_exploit(ip, username, password):
    import paramiko

    result = ""
    try:
        client = paramiko.SSHClient()
        client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        client.connect(ip, username=username, password=password)

        stdin, stdout, stderr = client.exec_command("whoami && uname -a && id")
        result = stdout.read().decode() + stderr.read().decode()

        client.close()
    except Exception as e:
        result = f"Erreur : {str(e)}"

    return result
